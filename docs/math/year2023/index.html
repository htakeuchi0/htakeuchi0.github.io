<!doctype html><html lang=ja-jp dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="2023 #  概要 #  今年は西暦2023年です．Twitter で知ったのですが1，2023という数について，以下の式が成り立つのだそうです．
  \[2023=(2+0+2+3)(2^2+0^2+2^2+3^2)^2.\]  指数まで対応しておりとてもきれいですね．
このような整数はレアケースすぎるので，少しだけ一般化した以下の問題を考えます．
Problem 1. 整数 \(x=\sum_{j=0}^{n-1}a_j10^j\) \((0\le a_j\le 9,j=0,1,\dots,n-1)\) に対して， \[ \prod_{k=1}^K\sum_{j=0}^{n-1}a_j^{i_k}=x \] を満たす整数 \(K\ge1\), \(1\le i_1\le\cdots\le i_K\) が存在するかを判定せよ．存在する場合はこの方程式を満たす \((i_1,i_2,\dots,i_K)\) をひとつ求めよ．  たとえば， \(x=2023\)  の場合， \((a_0,a_1,a_2,a_3)=(3,2,0,2)\)  であり， \((i_1,i_2,i_3)=(1,2,2)\)  です．
本ページでは，この問題を解く方法を考え，具体的に解を求めてみます．
解法 #  解がある場合は， \(i\ge1\)  について  \(\sum_{j=0}^{n-1}a_j^i\mid x\)  となる最小の  \(i\)  を求めて， \(x'=x/\sum_{j=0}^{n-1}a_j^i\)  に対して  \(\sum_{j=0}^{n-1}a_j^{i'}\mid x'\)  を満たす  \(i'\ge i\)  を求めることを再帰的に行えば求まります．">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="2023">
<meta property="og:description" content="2023 #  概要 #  今年は西暦2023年です．Twitter で知ったのですが1，2023という数について，以下の式が成り立つのだそうです．
  \[2023=(2+0+2+3)(2^2+0^2+2^2+3^2)^2.\]  指数まで対応しておりとてもきれいですね．
このような整数はレアケースすぎるので，少しだけ一般化した以下の問題を考えます．
Problem 1. 整数 \(x=\sum_{j=0}^{n-1}a_j10^j\) \((0\le a_j\le 9,j=0,1,\dots,n-1)\) に対して， \[ \prod_{k=1}^K\sum_{j=0}^{n-1}a_j^{i_k}=x \] を満たす整数 \(K\ge1\), \(1\le i_1\le\cdots\le i_K\) が存在するかを判定せよ．存在する場合はこの方程式を満たす \((i_1,i_2,\dots,i_K)\) をひとつ求めよ．  たとえば， \(x=2023\)  の場合， \((a_0,a_1,a_2,a_3)=(3,2,0,2)\)  であり， \((i_1,i_2,i_3)=(1,2,2)\)  です．
本ページでは，この問題を解く方法を考え，具体的に解を求めてみます．
解法 #  解がある場合は， \(i\ge1\)  について  \(\sum_{j=0}^{n-1}a_j^i\mid x\)  となる最小の  \(i\)  を求めて， \(x'=x/\sum_{j=0}^{n-1}a_j^i\)  に対して  \(\sum_{j=0}^{n-1}a_j^{i'}\mid x'\)  を満たす  \(i'\ge i\)  を求めることを再帰的に行えば求まります．">
<meta property="og:type" content="article">
<meta property="og:url" content="https://htakeuchi0.github.io/docs/math/year2023/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2023-01-14T09:12:15+09:00">
<title>2023 | htakeuchi0 のノート</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.a82d7e77ceb134d151c4d7e381eeb30623fbd5a524d58c584d8716ecec0205bd.css integrity="sha256-qC1+d86xNNFRxNfjge6zBiP71aUk1YxYTYcW7OwCBb0=" crossorigin=anonymous>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RXNBZFC7LX"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-RXNBZFC7LX',{anonymize_ip:!1})}</script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>htakeuchi0 のノート</span>
</a>
</h2>
<ul>
<li>
<a href=/docs/cpp/>C++</a>
<ul>
<li>
<a href=/docs/cpp/env/>開発環境</a>
<ul>
<li>
<a href=/docs/cpp/env/make/>Makefile プロジェクト</a>
</li>
<li>
<a href=/docs/cpp/env/autoconf/>autoconf プロジェクト (1)</a>
</li>
<li>
<a href=/docs/cpp/env/autoconf2/>autoconf プロジェクト (2)</a>
</li>
<li>
<a href=/docs/cpp/env/autoconf3/>autoconf プロジェクト (3)</a>
</li>
<li>
<a href=/docs/cpp/env/autoconf4/>autoconf プロジェクト (4)</a>
</li>
</ul>
</li>
<li>
<a href=/docs/cpp/fp/>関数ポインタ</a>
<ul>
<li>
<a href=/docs/cpp/fp/fp/>関数ポインタとその周辺</a>
</li>
<li>
<a href=/docs/cpp/fp/mfp/>メンバ関数ポインタとその周辺</a>
</li>
<li>
<a href=/docs/cpp/fp/stdfunc/>std::function とその周辺</a>
</li>
<li>
<a href=/docs/cpp/fp/fref/>関数への参照</a>
</li>
</ul>
</li>
<li>
<a href=/docs/cpp/arrp/>配列へのポインタ</a>
<ul>
<li>
<a href=/docs/cpp/arrp/arrp/>配列へのポインタとその周辺</a>
</li>
<li>
<a href=/docs/cpp/arrp/arr_ref/>配列への参照</a>
</li>
<li>
<a href=/docs/cpp/arrp/stdarray/>std::array について</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=/docs/math/>数学一般</a>
<ul>
<li>
<a href=/docs/math/exp/>指数関数の定積分</a>
</li>
<li>
<a href=/docs/math/exp_normal/>指数関数の定積分：正規分布の累積分布関数の計算への応用</a>
</li>
<li>
<a href=/docs/math/stat/>数理統計</a>
<ul>
<li>
<a href=/docs/math/stat/dice/>サイコロの出目の確率</a>
<ul>
<li>
<a href=/docs/math/stat/dice/dice_basic/>サイコロを繰り返し投げる試行の確率モデル</a>
</li>
<li>
<a href=/docs/math/stat/dice/dice_ratio/>サイコロをN回投げたときちょうど6回に1回の割合で1の目が出る確率</a>
</li>
<li>
<a href=/docs/math/stat/dice/dice_approx_ratio/>サイコロをN回投げたときおよそ6回に1回程度の割合で1の目が出ることの確認</a>
</li>
<li>
<a href=/docs/math/stat/dice/dice_randval/>サイコロをN回投げたときおよそ6回に1回程度の割合で1の目が出ることの確率変数の導入による整理</a>
</li>
<li>
<a href=/docs/math/stat/dice/dice_inf/>サイコロを無限回投げる場合の確率モデル</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href=/docs/math/year2023/ class=active>2023</a>
</li>
</ul>
</li>
<li>
<a href=/docs/hugo/>Hugo</a>
<ul>
<li>
<a href=/docs/hugo/base/>空のサイトの生成</a>
</li>
<li>
<a href=/docs/hugo/set_config/>ページの追加とサイトの設定</a>
</li>
<li>
<a href=/docs/hugo/genpages/>公開用ファイルの生成</a>
</li>
<li>
<a href=/docs/hugo/shortcode/>独自ショートコードの定義</a>
</li>
<li>
<a href=/docs/hugo/book_katex/>Book テーマの hint ショートコードブロック内に数式を表示する際の注意</a>
</li>
</ul>
</li>
<li>
<a href=/docs/others/>その他</a>
<ul>
<li>
<a href=/docs/others/pmbok/>プロジェクトマネジメント知識体系 (PMBOK) ガイドに関するノート</a>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<a href=/#disclaimer target=_blank rel=noopener>
免責事項
</a>
</li>
<li>
<a href=/#privacy_policy target=_blank rel=noopener>
プライバシーポリシー
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>2023</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#概要>概要</a></li>
<li><a href=#解法>解法</a></li>
<li><a href=#0le-x100000-の場合>\(0\le x&lt;100000\) の場合</a></li>
<li><a href=#まとめ>まとめ</a></li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=2023>
2023
<a class=anchor href=#2023>#</a>
</h1>
<h2 id=概要>
概要
<a class=anchor href=#%e6%a6%82%e8%a6%81>#</a>
</h2>
<p>今年は西暦2023年です．Twitter で知ったのですが<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>，2023という数について，以下の式が成り立つのだそうです．</p>
<link rel=stylesheet href=/katex/katex.min.css>
<script defer src=/katex/katex.min.js></script>
<script defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>
\[2023=(2+0+2+3)(2^2+0^2+2^2+3^2)^2.\]
</span>
<p>指数まで対応しておりとてもきれいですね．</p>
<p>このような整数はレアケースすぎるので，少しだけ一般化した以下の問題を考えます．</p>
<blockquote class="book-hint info">
<b>Problem 1</b>.
整数 \(x=\sum_{j=0}^{n-1}a_j10^j\) \((0\le a_j\le 9,j=0,1,\dots,n-1)\) に対して，
\[ \prod_{k=1}^K\sum_{j=0}^{n-1}a_j^{i_k}=x \]
を満たす整数 \(K\ge1\), \(1\le i_1\le\cdots\le i_K\) が存在するかを判定せよ．存在する場合はこの方程式を満たす \((i_1,i_2,\dots,i_K)\) をひとつ求めよ．
</blockquote>
<p>たとえば，<span>
\(x=2023\)
</span>
の場合，<span>
\((a_0,a_1,a_2,a_3)=(3,2,0,2)\)
</span>
であり，<span>
\((i_1,i_2,i_3)=(1,2,2)\)
</span>
です．</p>
<p>本ページでは，この問題を解く方法を考え，具体的に解を求めてみます．</p>
<h2 id=解法>
解法
<a class=anchor href=#%e8%a7%a3%e6%b3%95>#</a>
</h2>
<p>解がある場合は，<span>
\(i\ge1\)
</span>
について <span>
\(\sum_{j=0}^{n-1}a_j^i\mid x\)
</span>
となる最小の <span>
\(i\)
</span>
を求めて，<span>
\(x'=x/\sum_{j=0}^{n-1}a_j^i\)
</span>
に対して <span>
\(\sum_{j=0}^{n-1}a_j^{i'}\mid x'\)
</span>
を満たす <span>
\(i'\ge i\)
</span>
を求めることを再帰的に行えば求まります．</p>
<p>解をもたない場合は，ある <span>
\(i\ge1\)
</span>
で <span>
\(\sum_{j=0}^{n-1}a_j^i>x\)
</span>
となるので，解をもたないことが判定ができます．</p>
<p>具体的にいえば，以下の手続きで <span>
\(\mathtt{Solve}(a,x,1)\)
</span>
が <span>
\(\emptyset\)
</span>
であれば解なし，そうでなければその戻り値が解のひとつになります．</p>
<blockquote class="book-hint info">
<p><b>Algorithm 2</b>.
\(\mathtt{Solve}(a, x, i)\) の擬似コードを以下で定める．ただし，\((a_1,\dots,a_n)\in\mathbb{N}^n,(b_1,\dots,b_m)\in\mathbb{N}^m\) に対して，\(\mathtt{append}(a,b)=(a_1,\dots,a_n,b_1,\dots,b_m)\in\mathbb{N}^{n+m}\) とする．</p>
<ul>
<li>Input: \(a\in\mathbb{N}^n,x\in\mathbb{N},i\in\mathbb{N}\)</li>
<li>Output: \(\prod_{k=1}^K\sum_{j=0}^{n-1}a_j^{i_k}=x,i\le i_1\le\dots\le i_K\) を満たす \((i_1,i_2,\dots,i_K)\)</li>
</ul>
<ol>
<li>if \(\max(a)\le1\) then</li>
<li>  if \(i>1\) then return \(\emptyset\)</li>
<li>  if \(\sum_{j=0}^{n-1}a_j=x\) then return \((1)\)</li>
<li>  else return \(\emptyset\)</li>
<li>end if</li>
<li>for \(i'=i,i+1,\dots\) do</li>
<li>  \(y\leftarrow\sum_{j=0}^{n-1}a_j^{i'}\)</li>
<li>  if \(y>x\) then return \(\emptyset\)</li>
<li>  if \(y=x\) then return \((i')\)</li>
<li>  if \(y\mid x\) then</li>
<li>    \(L\leftarrow\mathtt{Solve}(a,x/y,i')\)</li>
<li>    if \(L=\emptyset\) then return \(\emptyset\)</li>
<li>    else return \(\mathtt{append}((i'),L)\)</li>
<li>  end if</li>
<li>end for</li>
</ol>
</blockquote>
<p>Python 3.x による実装例は以下のとおりです．実行には NumPy が必要です．</p>
<script type=application/javascript src=https://gist.github.com/htakeuchi0/2cb6b593569716d0e6b80824737e98db.js></script>
<h2 id=0le-x100000-の場合>
\(0\le x&lt;100000\) の場合
<a class=anchor href=#0le-x100000-%e3%81%ae%e5%a0%b4%e5%90%88>#</a>
</h2>
<p>Algorithm 2. に基づき <span>
\(0\le x&lt;100000\)
</span>
について解をもつ <span>
\(x\)
</span>
とその解のひとつを並べると以下のようになります．</p>
<ul>
<li><span>
\(0^1=0\)
</span>
</li>
<li><span>
\(1^1=1\)
</span>
</li>
<li><span>
\(2^1=2\)
</span>
</li>
<li><span>
\(3^1=3\)
</span>
</li>
<li><span>
\(4^1=4\)
</span>
</li>
<li><span>
\(5^1=5\)
</span>
</li>
<li><span>
\(6^1=6\)
</span>
</li>
<li><span>
\(7^1=7\)
</span>
</li>
<li><span>
\(8^1=8\)
</span>
</li>
<li><span>
\(9^1=9\)
</span>
</li>
<li><span>
\((8^1+1^1)^2=81\)
</span>
</li>
<li><span>
\((1^1+3^1+3^1)(1^2+3^2+3^2)=133\)
</span>
</li>
<li><span>
\(1^3+5^3+3^3=153\)
</span>
</li>
<li><span>
\((3^1+1^1+5^1)(3^2+1^2+5^2)=315\)
</span>
</li>
<li><span>
\(3^3+7^3+0^3=370\)
</span>
</li>
<li><span>
\(3^3+7^3+1^3=371\)
</span>
</li>
<li><span>
\(4^3+0^3+7^3=407\)
</span>
</li>
<li><span>
\((5^1+1^1+2^1)^3=512\)
</span>
</li>
<li><span>
\((8^1+0^1+3^1)(8^2+0^2+3^2)=803\)
</span>
</li>
<li><span>
\((1^1+1^1+4^1+8^1)(1^2+1^2+4^2+8^2)=1148\)
</span>
</li>
<li><span>
\((1^1+2^1+1^1+5^1)(1^3+2^3+1^3+5^3)=1215\)
</span>
</li>
<li><span>
\((1^1+5^1+4^1+7^1)(1^2+5^2+4^2+7^2)=1547\)
</span>
</li>
<li><span>
\(1^4+6^4+3^4+4^4=1634\)
</span>
</li>
<li><span>
\((2^1+0^1+2^1+3^1)(2^2+0^2+2^2+3^2)^2=2023\)
</span>
</li>
<li><span>
\((2^1+1^1+9^1+6^1)(2^2+1^2+9^2+6^2)=2196\)
</span>
</li>
<li><span>
\((2^1+4^1+0^1+0^1)(2^2+4^2+0^2+0^2)^2=2400\)
</span>
</li>
<li><span>
\((2^1+4^1+0^1+1^1)^4=2401\)
</span>
</li>
<li><span>
\((2^1+5^1+1^1+1^1)^2(2^2+5^2+1^2+1^2)=2511\)
</span>
</li>
<li><span>
\((3^1+7^1+0^1+0^1)(3^3+7^3+0^3+0^3)=3700\)
</span>
</li>
<li><span>
\(4^5+1^5+5^5+0^5=4150\)
</span>
</li>
<li><span>
\(4^5+1^5+5^5+1^5=4151\)
</span>
</li>
<li><span>
\((4^1+9^1+1^1+3^1)^3=4913\)
</span>
</li>
<li><span>
\((5^1+8^1+3^1+2^1)^3=5832\)
</span>
</li>
<li><span>
\(8^4+2^4+0^4+8^4=8208\)
</span>
</li>
<li><span>
\(9^4+4^4+7^4+4^4=9474\)
</span>
</li>
<li><span>
\((1^1+1^1+6^1+8^1+0^1)(1^3+1^3+6^3+8^3+0^3)=11680\)
</span>
</li>
<li><span>
\((1^1+3^1+6^1+0^1+8^1)(1^3+3^3+6^3+0^3+8^3)=13608\)
</span>
</li>
<li><span>
\((1^1+7^1+5^1+7^1+6^1)^3=17576\)
</span>
</li>
<li><span>
\((1^1+9^1+6^1+8^1+3^1)^3=19683\)
</span>
</li>
<li><span>
\((2^1+4^1+6^1+2^1+4^1)^2(2^2+4^2+6^2+2^2+4^2)=24624\)
</span>
</li>
<li><span>
\((3^1+2^1+1^1+4^1+4^1)^2(3^3+2^3+1^3+4^3+4^3)=32144\)
</span>
</li>
<li><span>
\((3^1+7^1+0^1+0^1+0^1)^2(3^3+7^3+0^3+0^3+0^3)=37000\)
</span>
</li>
<li><span>
\((4^1+1^1+5^1+0^1+0^1)(4^5+1^5+5^5+0^5+0^5)=41500\)
</span>
</li>
<li><span>
\((4^3+2^3+0^3+2^3+5^3)^2=42025\)
</span>
</li>
<li><span>
\((5^1+2^1+2^1+1^1+5^1)(5^2+2^2+2^2+1^2+5^2)^2=52215\)
</span>
</li>
<li><span>
\(5^5+4^5+7^5+4^5+8^5=54748\)
</span>
</li>
<li><span>
\((8^2+3^2+1^2+6^2+0^2)(8^3+3^3+1^3+6^3+0^3)=83160\)
</span>
</li>
<li><span>
\((8^1+7^1+9^1+4^1+9^1)(8^3+7^3+9^3+4^3+9^3)=87949\)
</span>
</li>
<li><span>
\(9^5+2^5+7^5+2^5+7^5=92727\)
</span>
</li>
<li><span>
\(9^5+3^5+0^5+8^5+4^5=93084\)
</span>
</li>
</ul>
<p><span>
\(2023\)
</span>
と同じ解をもつのは <span>
\(2400,52215\)
</span>
であることがわかります．</p>
<p>また，解をもつ整数の割合は <span>
\(0\le x&lt;100000\)
</span>
の範囲では <span>
\(50/100000\)
</span>
なので，割合としてはそれほどないことがわかります．</p>
<h2 id=まとめ>
まとめ
<a class=anchor href=#%e3%81%be%e3%81%a8%e3%82%81>#</a>
</h2>
<p>本ページでは <span>
\(2023=(2+0+2+3)(2^2+0^2+2^2+3^2)^2\)
</span>
であることに着目し，類似の性質をもつ整数を具体的に求めました．その結果，割合としてはそのような整数はそれほどないことがわかりました．</p>
<p>Problem 1. において，解をもつ場合はひとつだけ求める問題としていますが，複数もつ場合については考えていません．また，複数解をもつ場合があるのかも検証していません．さらに，解をもつ整数の密度も明らかではありません．</p>
<p>複数解をもつ場合への考慮や，解をもつ整数の密度についての検討は今後の課題とします．</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>&ldquo;2^2+0^2+2^2+3^2&rdquo; で検索をかけると言及されている方が多くいらっしゃることがわかります．&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</article>
<hr>
<p>
<small>
<a rel=license href="https://creativecommons.org/licenses/by-nd/4.0/deed.ja?_fsi=E6fL9iEx"><img src=https://i.creativecommons.org/l/by-nd/4.0/88x31.png alt=クリエイティブ・コモンズ・ライセンス style=border-width:0></a><br>本ページは <a rel=license href="https://creativecommons.org/licenses/by-nd/4.0/deed.ja?_fsi=E6fL9iEx">クリエイティブ・コモンズ 表示 - 改変禁止 4.0 国際ライセンス (CC BY-ND 4.0)</a> の下に提供されています。
</small>
</p>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
<div><a class="flex align-center" href=https://github.com/htakeuchi0/htakeuchi0.github.io-sources/commit/dade87a2c40e3251005c8c202919f68fb3afe656 title="Last modified by htakeuchi0 | January 14, 2023" target=_blank rel=noopener>
<img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>January 14, 2023</span>
</a>
</div>
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){if(window.getSelection().toString())return;a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#概要>概要</a></li>
<li><a href=#解法>解法</a></li>
<li><a href=#0le-x100000-の場合>\(0\le x&lt;100000\) の場合</a></li>
<li><a href=#まとめ>まとめ</a></li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>